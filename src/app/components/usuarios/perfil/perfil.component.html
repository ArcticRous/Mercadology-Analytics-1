<app-header></app-header>


<hr>
<div class="container bootstrap snippet text-white">
    <div class="row">
        <div class="col-sm-8"><h1> {{usuario.nombre}} </h1></div>
        <div class="col-sm-4"><a href="javascript:void(0);" class="pull-right"><img title="profile image" class="img-logo img-responsive" src="../../../assets/imagenes/imagenPerfil/mercadology_logo.png"></a></div>
    </div>

    <div class="row" *ngIf='registro'>
  		<div class="col-sm-4 contenedor-foto"><!--left col-->

            <form [formGroup]="imageForm" (ngSubmit)= "onSubmit()" >
                <img *ngIf="usuario.urlPhoto" class="avatar mb-1 img-thumbnail image" [src]="usuario.urlPhoto" alt="avatar">
                <h6 class="text-center center-block" >Sube una foto...</h6>
                <label class="btn btn-secondary w-100" for="btnArchivo">Seleccionar archivo</label>
                <input type="file" style="display: none;" formControlName="file"  name="btnArchivo" id="btnArchivo" (change)="onfileChange($event)">

<!--                <button type="submit" style="display: none;" [disabled]="!imageForm.valid">Enviar</button> -->
            </form><br>

            <ul class="list-group text-dark w-100">
                <li class="list-group-item text-muted"> Datos <i class="fa fa-dashboard fa-1x"></i></li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>Rol:</strong></span> {{registro.rol}} </li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>Puesto:</strong></span> {{registro.puesto}} </li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>Departamento:</strong> {{registro.depto}} </span></li>
            </ul>

        </div><!--/col-sm-3-->
        
    	<div class="col-sm-8">
            <div class="tab-content">
                    <hr />
                        <form (ngSubmit)="actualizarSubmit( formR )"  #formR="ngForm">
                            
                            <div class="form-group">
                                <div class="col-xs-6">
                                    <label for="formName"><h4>Nombre</h4></label>
                                    <input type="text" class="form-control" name="nombre" id="formName" [(ngModel)]="registro.nombre" placeholder="Nombre" title="Ingrese su nombre">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-xs-6">
                                <label for="formApellido"><h4>Apellido</h4></label>
                                    <input type="text" class="form-control" name="apellido" id="formApellido" [(ngModel)]=registro.apellido placeholder="Apellido" title="Ingrese su apellido">
                                </div>
                            </div>
                
                            <div class="form-group">
                                <div class="col-xs-6">
                                    <label for="formTelefono"><h4>Teléfono</h4></label>
                                    <input type="tel" class="form-control" name="telefono" id="formTelefono" [(ngModel)]=registro.telefono placeholder="Teléfono" title="Ingrese su teléfono">
                                </div>
                            </div>
                
                            <div class="form-group">
                                <div class="col-xs-6">
                                    <label for="formCelular"><h4>Celular</h4></label>
                                    <input type="" class="form-control" name="celular" id="formCelular" [(ngModel)]=registro.celular placeholder="Celular" title="Ingrese su celular">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-xs-6">
                                    <label for="email"><h4>Email</h4></label>
                                    <input type="email" class="form-control bg-white" name="email" id="formEmail" [(ngModel)]=registro.correo placeholder="Email" disabled title="Ingrese su email">
                                </div>
                            </div>

                            <div class="form-group text-center">
                                <div class="mt-3 col-md-12" style="display: flex; justify-content: space-around; ">
                                    <br>
                                    <button class="btn btn-lg col-sm-6 btn-success" (click)="onSubmit()" type="submit"> Guardar</button>
                                    <button class="btn btn-lg btn-primary" (click)="verificarCorreo()" type="button" > Verificar correo</button>
<!--                              	<button class="btn btn-lg btn-primary" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>   -->
                                </div>
                            </div>
                    
                        </form>
                    <hr />
            </div><!--/tab-content-->
        </div><!--/col-9-->
    </div><!--/row-->
</div>