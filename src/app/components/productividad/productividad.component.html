<app-header></app-header>

<div class="container mb-5">
    <div class="row mt-5">
        <h1 *ngIf="!this.esEditar" class="text-white col-10">Asignar productividad</h1>
        <h1 *ngIf="this.esEditar" class="text-white col-10">Editar productividad</h1>
        <div class="col-lg-2">
            <button class="btn btn-danger col-lg-12" routerLink="/productividades">
                <i class="bi bi-arrow-left-circle-fill"></i>
                Regresar
            </button>
        </div>
    </div>
</div>

<div *ngIf="!this.cargando" class=" animated fadeIn faster container contenedor">

    <p *ngIf="this.esEditar" class="text-white">Para eliminar el historial de un usuario, seleccione en las opciones de usuario el que quiere eliminar y de click en el botón "Eliminar historial"</p>

    <div class="col-12">

        <form [formGroup]="productividadForm" (ngSubmit)="guardar()">

            <div class="row">
                <div class="col-md-3 pe-4 ps-4 mb-3">
                    <div class="form-group row">
                        <label for="usuario" class="text-white mb-2">Usuario</label>
                        <select type="text" formControlName="usuario" name="usuario" id="usuario"
                            class="form-select w-100">
                            <option [value]="item.id" *ngFor="let item of this.selectOptions">{{item.nombre}}
                                {{item.apellido}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3 pe-4 ps-4 mb-3">
                    <div class="form-group row">
                        <label for="productividad" class="text-white mb-2">Productividad</label>
                        <input formControlName="productividad" name="productividad" id="productividad"
                            class="form-control" type="number" min="0" max="100">
                    </div>
                </div>
                <div class="col-md-3 pe-4 ps-4 mb-3">
                    <div class="form-group row">
                        <label for="mes" class="text-white mb-2">Mes</label>
                        <select formControlName="mes" name="mes" id="mes" class="form-select w-100">
                            <option value="0">Enero</option>
                            <option value="1">Febrero</option>
                            <option value="2">Marzo</option>
                            <option value="3">Abril</option>
                            <option value="4">Mayo</option>
                            <option value="5">Junio</option>
                            <option value="6">Julio</option>
                            <option value="7">Agosto</option>
                            <option value="8">Septiembre</option>
                            <option value="9">Octubre</option>
                            <option value="10">Noviembre</option>
                            <option value="11">Diciembre</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-3 pe-4 ps-4 mb-3">
                    <div class="form-group row">
                        <label for="anio" class="text-white mb-2">Año</label>
                        <select formControlName="anio" name="anio" id="anio" class="form-select w-100">
                            <option>2021</option>
                            <option>2022</option>
                            <option>2023</option>
                            <option>2024</option>
                            <option>2025</option>
                        </select>
                    </div>
                </div>

            </div>

            <hr>
            <div class="row" style="display: flex; justify-content:center;">
                <div class="form-group col-md-4">
                    <button *ngIf="productividad.id === undefined" type="submit" class="btn btn-primary btn-lg w-100">
                        <i class="bi bi-save"></i>
                        Guardar
                    </button>
                </div>

                <div *ngIf="this.esEditar" class="form-group col-md-4">
                    <button class="btn btn-danger btn-lg w-100" type="button"
                        (click)="eliminarPro( this.productividadForm.value.usuario ) ">
                        <i class="bi bi-trash-fill"></i> Eliminar historial
                    </button>
                </div>

            </div>


        </form>

        <!-- <pre class="text-white">
            {{productividadForm.value | json}}
        </pre> -->

    </div>
</div>

<app-footer></app-footer>
<app-footer></app-footer>